<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JavaWEB笔记-Spring事务 | 🐈Watson-Cat Note</title><meta name=keywords content="java,note,spring,transactional"><meta name=description content="简介 事务作用: 在数据层保证一系列数据库操作同时成功或同时失败
Spring事务作用: 在数据层或业务层的一些列数据库操作同时成功或同时失败
例子 通过相同的数据源DataSource来管理sql的事务
在业务层的接口上, 要添加Spring事务的方法上添加注解 @Transactional, 一般是使用在业务层接口上,不会用在实现类上. @Transactional也可以使用在类上,使用在类上表示该类所有方法都开启事务 设置事务管理器 @Bean public PlatformTransactionManager transactionManager(DataSource dataSource) { DataSourceTransactionManager transactionManager = new DataSourceTransactionManager(); transactionManager.setDataSource(dataSource); return transactionManager; } 在Spring设置里打开注解事务驱动 //开起启用注解事务 @EnableTransactionManagement //事务简单例子 //本方法中有三个事务分别是 test_Tran() print_a() print_b() //在实际运行中print_a()和print_b()会加入到test_Tran()中形成一个新的事务, 从而实现print_a()和print_b()的同时成功或同时失败 @Transactional public void test_Tran(){ common.print_a(); //... common.print_b(); } class common { @Transactional public void print_a() { sout(&#34;2333&#34;); } @Transactional public void print_b() { sout(&#34;12345&#34;); } } 事务角色 事务管理员: 发起事务方, 在Spring中通常指代业务开始事务的方法
事务协调员: 加入事务方, 在Spring中通常指数据层方法,也可以是业务层方法"><link rel=canonical href=https://watson-cat.github.io/posts/spring/spring-%E4%BA%8B%E5%8A%A1/><link crossorigin=anonymous href=/assets/css/stylesheet.f521c85445d48167c771cbc1dd329bfb14a928d2edd96694c651bc525e672076.css integrity="sha256-9SHIVEXUgWfHccvB3TKb+xSpKNLt2WaUxlG8Ul5nIHY=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.1fce0df8d1f0ae1037b945ffe3f2be7c3bb807544c52e3205fd0e0d234127c94.js integrity="sha256-H84N+NHwrhA3uUX/4/K+fDu4B1RMUuMgX9Dg0jQSfJQ=" onload=hljs.configure({ignoreUnescapedHTML:!0}),hljs.highlightAll()></script>
<link rel=icon href=https://watson-cat.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://watson-cat.github.io/favicon-16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://watson-cat.github.io/favicon-32x32.ico><link rel=apple-touch-icon href=https://watson-cat.github.io/apple-touch-icon.png><link rel=mask-icon href=https://watson-cat.github.io/apple-touch-icon.png><meta name=theme-color content=" #2e2e33"><meta name=msapplication-TileColor content=" #2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="JavaWEB笔记-Spring事务"><meta property="og:description" content="简介 事务作用: 在数据层保证一系列数据库操作同时成功或同时失败
Spring事务作用: 在数据层或业务层的一些列数据库操作同时成功或同时失败
例子 通过相同的数据源DataSource来管理sql的事务
在业务层的接口上, 要添加Spring事务的方法上添加注解 @Transactional, 一般是使用在业务层接口上,不会用在实现类上. @Transactional也可以使用在类上,使用在类上表示该类所有方法都开启事务 设置事务管理器 @Bean public PlatformTransactionManager transactionManager(DataSource dataSource) { DataSourceTransactionManager transactionManager = new DataSourceTransactionManager(); transactionManager.setDataSource(dataSource); return transactionManager; } 在Spring设置里打开注解事务驱动 //开起启用注解事务 @EnableTransactionManagement //事务简单例子 //本方法中有三个事务分别是 test_Tran() print_a() print_b() //在实际运行中print_a()和print_b()会加入到test_Tran()中形成一个新的事务, 从而实现print_a()和print_b()的同时成功或同时失败 @Transactional public void test_Tran(){ common.print_a(); //... common.print_b(); } class common { @Transactional public void print_a() { sout(&#34;2333&#34;); } @Transactional public void print_b() { sout(&#34;12345&#34;); } } 事务角色 事务管理员: 发起事务方, 在Spring中通常指代业务开始事务的方法
事务协调员: 加入事务方, 在Spring中通常指数据层方法,也可以是业务层方法"><meta property="og:type" content="article"><meta property="og:url" content="https://watson-cat.github.io/posts/spring/spring-%E4%BA%8B%E5%8A%A1/"><meta property="og:image" content="https://watson-cat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-14T00:00:00+00:00"><meta property="article:modified_time" content="2022-10-14T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://watson-cat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="JavaWEB笔记-Spring事务"><meta name=twitter:description content="简介 事务作用: 在数据层保证一系列数据库操作同时成功或同时失败
Spring事务作用: 在数据层或业务层的一些列数据库操作同时成功或同时失败
例子 通过相同的数据源DataSource来管理sql的事务
在业务层的接口上, 要添加Spring事务的方法上添加注解 @Transactional, 一般是使用在业务层接口上,不会用在实现类上. @Transactional也可以使用在类上,使用在类上表示该类所有方法都开启事务 设置事务管理器 @Bean public PlatformTransactionManager transactionManager(DataSource dataSource) { DataSourceTransactionManager transactionManager = new DataSourceTransactionManager(); transactionManager.setDataSource(dataSource); return transactionManager; } 在Spring设置里打开注解事务驱动 //开起启用注解事务 @EnableTransactionManagement //事务简单例子 //本方法中有三个事务分别是 test_Tran() print_a() print_b() //在实际运行中print_a()和print_b()会加入到test_Tran()中形成一个新的事务, 从而实现print_a()和print_b()的同时成功或同时失败 @Transactional public void test_Tran(){ common.print_a(); //... common.print_b(); } class common { @Transactional public void print_a() { sout(&#34;2333&#34;); } @Transactional public void print_b() { sout(&#34;12345&#34;); } } 事务角色 事务管理员: 发起事务方, 在Spring中通常指代业务开始事务的方法
事务协调员: 加入事务方, 在Spring中通常指数据层方法,也可以是业务层方法"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://watson-cat.github.io/posts/"},{"@type":"ListItem","position":2,"name":"JavaWEB笔记-Spring事务","item":"https://watson-cat.github.io/posts/spring/spring-%E4%BA%8B%E5%8A%A1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JavaWEB笔记-Spring事务","name":"JavaWEB笔记-Spring事务","description":"简介 事务作用: 在数据层保证一系列数据库操作同时成功或同时失败\nSpring事务作用: 在数据层或业务层的一些列数据库操作同时成功或同时失败\n例子 通过相同的数据源DataSource来管理sql的事务\n在业务层的接口上, 要添加Spring事务的方法上添加注解 @Transactional, 一般是使用在业务层接口上,不会用在实现类上. @Transactional也可以使用在类上,使用在类上表示该类所有方法都开启事务 设置事务管理器 @Bean public PlatformTransactionManager transactionManager(DataSource dataSource) { DataSourceTransactionManager transactionManager = new DataSourceTransactionManager(); transactionManager.setDataSource(dataSource); return transactionManager; } 在Spring设置里打开注解事务驱动 //开起启用注解事务 @EnableTransactionManagement //事务简单例子 //本方法中有三个事务分别是 test_Tran() print_a() print_b() //在实际运行中print_a()和print_b()会加入到test_Tran()中形成一个新的事务, 从而实现print_a()和print_b()的同时成功或同时失败 @Transactional public void test_Tran(){ common.print_a(); //... common.print_b(); } class common { @Transactional public void print_a() { sout(\u0026#34;2333\u0026#34;); } @Transactional public void print_b() { sout(\u0026#34;12345\u0026#34;); } } 事务角色 事务管理员: 发起事务方, 在Spring中通常指代业务开始事务的方法\n事务协调员: 加入事务方, 在Spring中通常指数据层方法,也可以是业务层方法","keywords":["java","note","spring","transactional"],"articleBody":"简介 事务作用: 在数据层保证一系列数据库操作同时成功或同时失败\nSpring事务作用: 在数据层或业务层的一些列数据库操作同时成功或同时失败\n例子 通过相同的数据源DataSource来管理sql的事务\n在业务层的接口上, 要添加Spring事务的方法上添加注解 @Transactional, 一般是使用在业务层接口上,不会用在实现类上. @Transactional也可以使用在类上,使用在类上表示该类所有方法都开启事务 设置事务管理器 @Bean public PlatformTransactionManager transactionManager(DataSource dataSource) { DataSourceTransactionManager transactionManager = new DataSourceTransactionManager(); transactionManager.setDataSource(dataSource); return transactionManager; } 在Spring设置里打开注解事务驱动 //开起启用注解事务 @EnableTransactionManagement //事务简单例子 //本方法中有三个事务分别是 test_Tran() print_a() print_b() //在实际运行中print_a()和print_b()会加入到test_Tran()中形成一个新的事务, 从而实现print_a()和print_b()的同时成功或同时失败 @Transactional public void test_Tran(){ common.print_a(); //... common.print_b(); } class common { @Transactional public void print_a() { sout(\"2333\"); } @Transactional public void print_b() { sout(\"12345\"); } } 事务角色 事务管理员: 发起事务方, 在Spring中通常指代业务开始事务的方法\n事务协调员: 加入事务方, 在Spring中通常指数据层方法,也可以是业务层方法\n在sql中事务是隔离互不影响的, 比如事务T1成功-事务T2失败, 这两都不会回滚,而Spring的事务, 会让指定的事务T1,T2加入自己的事务中成为一个新的事务T3,T3如果执行到某一布出错就会回滚事务,\n事务配置 属性 作用 示例 readOnly 设置事务是否只读 readOnly=true 只读 timeout 设置事务超时时间 timeout=-1 永不超时 rollbackFor 设置事务回滚异常(Class : Class) rollbackFor = (Exception.class) rollbackForClassName 设置事务回滚异常(className : String) rollbackForName=“Exception.class” noRollbackFor 设置事务不回滚异常(Class : Class) 同上 noRollbackForClassName 设置事务不回滚异常(className : String) 同上 propagation 设置事务传播行为 事务传播行为 传播属性 作用 人话 REQUIRED 如果管理员有事务就加入,没有就新建 拥有此属性的方法,被调用时,调用者有事务此方法就加入到调用者的事务中 REQUIRES_NEW 不管, 管理员有没有事务,都创建一个新事物 拥有此属性的方法,被调用时,调用者不管有没有事务此方法都不加入,自己创建一个新的 SUPPORTS 如果管理员有事务就加入,没有无操作 拥有此属性的方法,,被调用时,调用者有事务就加入,没有就照常运行 NOT_SUPPORTED 不管, 管理员有没有事务, 都不做出操作 拥有此属性的方法,,被调用时,不管调用者有没有事务,此方法都加入 MANDATORY 如果管理员有事务就加入,没有就报错 拥有此属性的方法,要求此方法一定带事务运行 NERVER 如果管理员有事务就报错,没有就无操作 拥有此属性的方法,要求此方法一定不带事务运行 NESTED 创建savePoint, 一旦事务回滚, 事务将回滚到savePoint处,由客户响应提交/回滚 ","wordCount":"140","inLanguage":"en","datePublished":"2022-10-14T00:00:00Z","dateModified":"2022-10-14T00:00:00Z","author":{"@type":"Person","name":"Eoezora"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://watson-cat.github.io/posts/spring/spring-%E4%BA%8B%E5%8A%A1/"},"publisher":{"@type":"Organization","name":"🐈Watson-Cat Note","logo":{"@type":"ImageObject","url":"https://watson-cat.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://watson-cat.github.io/ accesskey=h title="🐈Watson-Cat Note (Alt + H)">🐈Watson-Cat Note</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://watson-cat.github.io/archives/ title=📚文章><span>📚文章</span></a></li><li><a href=https://watson-cat.github.io/search/ title=🔍搜索><span>🔍搜索</span></a></li><li><a href=https://watson-cat.github.io/tags/ title=🔖Tags><span>🔖Tags</span></a></li><li><a href=https://watson-cat.github.io/about/ title=🙋🏻‍♂️关于><span>🙋🏻‍♂️关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://watson-cat.github.io/>主页</a>&nbsp;»&nbsp;<a href=https://watson-cat.github.io/posts/>Posts</a></div><h1 class=post-title>JavaWEB笔记-Spring事务</h1><div class=post-meta><span title='2022-10-14 00:00:00 +0000 UTC'>October 14, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;140 字&nbsp;·&nbsp;Eoezora</div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#%e7%ae%80%e4%bb%8b aria-label=简介>简介</a></li><li><a href=#%e4%be%8b%e5%ad%90 aria-label=例子>例子</a></li><li><a href=#%e4%ba%8b%e5%8a%a1%e8%a7%92%e8%89%b2 aria-label=事务角色>事务角色</a></li><li><a href=#%e4%ba%8b%e5%8a%a1%e9%85%8d%e7%bd%ae aria-label=事务配置>事务配置</a><ul><li><a href=#%e4%ba%8b%e5%8a%a1%e4%bc%a0%e6%92%ad%e8%a1%8c%e4%b8%ba aria-label=事务传播行为><strong>事务传播行为</strong></a></li></ul></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active-toc")},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active-toc"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active-toc")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=简介>简介<a hidden class=anchor aria-hidden=true href=#简介>#</a></h2><p><strong>事务作用</strong>: 在数据层保证一系列数据库操作同时成功或同时失败</p><p><strong>Spring事务作用</strong>: 在<strong>数据层</strong>或<strong>业务层</strong>的一些列数据库操作同时成功或同时失败</p><h2 id=例子>例子<a hidden class=anchor aria-hidden=true href=#例子>#</a></h2><p>通过相同的数据源<strong>DataSource</strong>来管理sql的事务</p><ol><li>在业务层的接口上, 要添加Spring事务的方法上添加注解 <strong>@Transactional</strong>, 一般是使用在业务层接口上,不会用在实现类上.</li><li><strong>@Transactional</strong>也可以使用在类上,使用在类上表示该类所有方法都开启事务</li><li>设置事务管理器</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Bean</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>PlatformTransactionManager</span> <span class=nf>transactionManager</span><span class=o>(</span><span class=n>DataSource</span> <span class=n>dataSource</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>DataSourceTransactionManager</span> <span class=n>transactionManager</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DataSourceTransactionManager</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>transactionManager</span><span class=o>.</span><span class=na>setDataSource</span><span class=o>(</span><span class=n>dataSource</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>transactionManager</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><ol start=4><li>在Spring设置里打开注解事务驱动</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>//开起启用注解事务
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nd>@EnableTransactionManagement</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//事务简单例子
</span></span></span><span class=line><span class=cl><span class=c1>//本方法中有三个事务分别是 test_Tran() print_a() print_b()
</span></span></span><span class=line><span class=cl><span class=c1>//在实际运行中print_a()和print_b()会加入到test_Tran()中形成一个新的事务, 从而实现print_a()和print_b()的同时成功或同时失败
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nd>@Transactional</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kt>void</span> <span class=nf>test_Tran</span><span class=o>(){</span>
</span></span><span class=line><span class=cl>   <span class=n>common</span><span class=o>.</span><span class=na>print_a</span><span class=o>();</span>
</span></span><span class=line><span class=cl>   <span class=c1>//...
</span></span></span><span class=line><span class=cl><span class=c1></span>   <span class=n>common</span><span class=o>.</span><span class=na>print_b</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kd>class</span> <span class=nc>common</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Transactional</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>print_a</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>sout</span><span class=o>(</span><span class=s>&#34;2333&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Transactional</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>void</span> <span class=nf>print_b</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>sout</span><span class=o>(</span><span class=s>&#34;12345&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=事务角色>事务角色<a hidden class=anchor aria-hidden=true href=#事务角色>#</a></h2><p>事务管理员: 发起事务方, 在Spring中通常指代业务开始事务的方法</p><p>事务协调员: 加入事务方, 在Spring中通常指数据层方法,也可以是业务层方法</p><p>在sql中事务是隔离互不影响的, 比如事务T1成功-事务T2失败, 这两都不会回滚,而Spring的事务, 会让指定的事务T1,T2加入自己的事务中成为一个新的事务T3,T3如果执行到某一布出错就会回滚事务,</p><h2 id=事务配置>事务配置<a hidden class=anchor aria-hidden=true href=#事务配置>#</a></h2><table><thead><tr><th>属性</th><th>作用</th><th>示例</th></tr></thead><tbody><tr><td>readOnly</td><td>设置事务是否只读</td><td>readOnly=true 只读</td></tr><tr><td>timeout</td><td>设置事务超时时间</td><td>timeout=-1 永不超时</td></tr><tr><td>rollbackFor</td><td>设置事务回滚异常(Class : Class)</td><td>rollbackFor = (Exception.class)</td></tr><tr><td>rollbackForClassName</td><td>设置事务回滚异常(className : String)</td><td>rollbackForName=&ldquo;Exception.class&rdquo;</td></tr><tr><td>noRollbackFor</td><td>设置事务不回滚异常(Class : Class)</td><td>同上</td></tr><tr><td>noRollbackForClassName</td><td>设置事务不回滚异常(className : String)</td><td>同上</td></tr><tr><td>propagation</td><td>设置事务传播行为</td><td></td></tr></tbody></table><h3 id=事务传播行为><strong>事务传播行为</strong><a hidden class=anchor aria-hidden=true href=#事务传播行为>#</a></h3><table><thead><tr><th>传播属性</th><th>作用</th><th>人话</th></tr></thead><tbody><tr><td>REQUIRED</td><td>如果管理员有事务就加入,没有就新建</td><td>拥有此属性的方法,被调用时,调用者有事务此方法就加入到调用者的事务中</td></tr><tr><td>REQUIRES_NEW</td><td>不管, 管理员有没有事务,都创建一个新事物</td><td>拥有此属性的方法,被调用时,调用者不管有没有事务此方法都不加入,自己创建一个新的</td></tr><tr><td>SUPPORTS</td><td>如果管理员有事务就加入,没有无操作</td><td>拥有此属性的方法,,被调用时,调用者有事务就加入,没有就照常运行</td></tr><tr><td>NOT_SUPPORTED</td><td>不管, 管理员有没有事务, 都不做出操作</td><td>拥有此属性的方法,,被调用时,不管调用者有没有事务,此方法都加入</td></tr><tr><td>MANDATORY</td><td>如果管理员有事务就加入,没有就报错</td><td>拥有此属性的方法,要求此方法一定<strong>带事务运行</strong></td></tr><tr><td>NERVER</td><td>如果管理员有事务就报错,没有就无操作</td><td>拥有此属性的方法,要求此方法一定<strong>不带事务运行</strong></td></tr><tr><td>NESTED</td><td>创建savePoint, 一旦事务回滚, 事务将回滚到savePoint处,由客户响应提交/回滚</td><td></td></tr></tbody></table></div><footer class=post-footer><ul class=post-tags><li><a href=https://watson-cat.github.io/tags/java/>java</a></li><li><a href=https://watson-cat.github.io/tags/note/>note</a></li><li><a href=https://watson-cat.github.io/tags/spring/>spring</a></li><li><a href=https://watson-cat.github.io/tags/transactional/>transactional</a></li></ul><nav class=paginav><a class=prev href=https://watson-cat.github.io/posts/spring/spring-mvc/><span class=title>« 上一页</span><br><span>JavaWEB笔记-SpringMVC</span></a>
<a class=next href=https://watson-cat.github.io/posts/spring/spring-boot/><span class=title>下一页 »</span><br><span>JavaWEB笔记-SpringBoot</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://watson-cat.github.io/>🐈Watson-Cat Note</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>