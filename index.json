[{"content":"å¢åˆ æ”¹æŸ¥ä¾‹å­ AccountMapper.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;!-- namespaceæ˜¯æ˜ å°„æ¥å£çš„è·¯å¾„ --\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.eoezora.mybatisDemo.mapper.AccountMapper\u0026#34;\u0026gt; \u0026lt;!-- æ·»åŠ æ•°æ®, å‚æ•°POJO -\u0026gt; EoeAccount --\u0026gt; \u0026lt;!-- æ·»åŠ è¿™ä¸¤ä¸ª useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;id\u0026#34; å±æ€§åœ¨insertæ ‡ç­¾é‡Œå¯ä»¥è¿”å›ä¸»é”® --\u0026gt; \u0026lt;insert id=\u0026#34;addAccount\u0026#34; useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;id\u0026#34;/\u0026gt; \u0026lt;insert id=\u0026#34;addAccount\u0026#34; \u0026gt; INSERT INTO account (name, age, brithDay, location) \u0026lt;!-- è¿™é‡Œçš„åå­—è¦ä¸POJOç±»åŠ›çš„å˜é‡åä¸€è‡´ --\u0026gt; VALUES (#{name},#{age},#{brithDay},#{location}); \u0026lt;/insert\u0026gt; \u0026lt;!-- åˆ é™¤æ•°æ® --\u0026gt; \u0026lt;delete id=\u0026#34;delAccouintById\u0026#34;\u0026gt; DELETE FROM account WHERE id = #{id} \u0026lt;/delete\u0026gt; \u0026lt;!-- æŸ¥è¯¢æ‰€ä»¥æ•°æ® å¤šä¸ªæ¡ä»¶ä½¿ç”¨ and åˆ†å‰² --\u0026gt; \u0026lt;select id=\u0026#34;selectAccounts\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; SELECT * FROM account; \u0026lt;/select\u0026gt; \u0026lt;!-- æ ¹æ®IDæŸ¥è¯¢æ•°æ® --\u0026gt; \u0026lt;select id=\u0026#34;selectAccount\u0026#34; parameterType=\u0026#34;int\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; SELECT * FROM account WHERE id = #{id}; \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; AccountMapper.class package com.eoezora.mybatisDemo.mapper; import com.eoezora.mybatisDemo.pojo.EoeAccount; import java.util.List; //æ˜ å°„æ¥å£, æ–¹æ³•åä¸ä¸Šæ–¹SQLæ˜ å°„xmlé‡Œçš„IDä¸€è‡´ public interface AccountMapper { /** * \u0026lt;insert id=\u0026#34;addAccount\u0026#34; parameterType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; **/ void addAccount(EoeAccount eoeAccount); /** * \u0026lt;select id=\u0026#34;selectAccounts\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; **/ List\u0026lt;EoeAccount\u0026gt; selectAccounts(); /** * \u0026lt;select id=\u0026#34;selectAccount\u0026#34; parameterType=\u0026#34;int\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; **/ EoeAccount selectAccount(int id); /** * \u0026lt;delete id=\u0026#34;delAccouintById\u0026#34;\u0026gt; **/ void delAccouintById(int id); //ä¼ é€’å‚æ•°çš„ä¸‰ç§æ–¹å¼ /** * å¤šä¸ªå•ç‹¬çš„å‚æ•°, @Paramé‡Œçš„å€¼ä¸xmlæ˜ å°„è¡¨çš„å ä½ç¬¦ä¸€è‡´,ä¹Ÿå°±æ˜¯ä¸ xml é‡Œçš„ #{} é‡Œçš„ä¸€è‡´ ä¾‹å¦‚: #{name} **/ List\u0026lt;EoeAccount\u0026gt; selectAccountByCondition(@Param(\u0026#34;name\u0026#34;) String name, @Param(\u0026#34;age\u0026#34;) intn age); /** * å¦‚æœå‚æ•°å¯ä»¥å°è£…åœ¨åŒä¸€ä¸ªç±»é‡Œ,ä¹Ÿå¯ä»¥ç›´æ¥ä¼ ä¸€ä¸ªå¯¹è±¡è¿‡æ¥. xml #{} å°†ä½¿ç”¨è¯¥å¯¹è±¡å‚æ•°åä½œä¸ºå ä½ç¬¦ **/ List\u0026lt;EoeAccount\u0026gt; selectAccountByCondition(EoeAccount account); /** * HashMap key -\u0026gt; value - å ä½ç¬¦åç§° -\u0026gt; æ•°å€¼ **/ List\u0026lt;EoeAccount\u0026gt; selectAccountByCondition(Map map); } ä½¿ç”¨æ¥å£è¿›è¡Œå¢åˆ æ”¹æŸ¥ try (SqlSession session = sqlSessionFactory.openSession()) { AccountMapper mapper = session.getMapper(AccountMapper.class); mapper.selectAccounts(); mapper.addAccount(); //éœ€è¦æ³¨æ„çš„æ˜¯ mybatis å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹çš„æ“ä½œåéœ€è¦æ‰‹åŠ¨æäº¤ session.commit(); } /** * è·å–ä¸»é”® * å½“æ•°æ®æ·»åŠ å®Œæˆå, è‹¥insertæ ‡ç­¾æœ‰è®¾ç½®useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;id\u0026#34; å±æ€§ * åˆ™å¯ä»¥æ ¹æ® ä»¥ä¸‹æ–¹å¼è·å–è¿”å›çš„ä¸»é”®id **/ EoeAccount ea = new EoeAccount(\u0026#34;è”¡æŸ\u0026#34;,25,\u0026#34;1919-08-10\u0026#34;,\u0026#34;è”ææ˜Ÿ\u0026#34;); mapper.addAccount(ea); System.out.println(ea.getId()); å¤šæ¡ä»¶åŠ¨æ€æŸ¥è¯¢ åœ¨æ ¹æ®æ¡ä»¶æŸ¥è¯¢æ—¶,å¤šä¸ªæ¡ä»¶ä½¿ç”¨ä»¥ä¸‹æ–¹å¼,ä¼ å…¥çš„æ¡ä»¶å‚æ•°æ˜¯å›ºå®šçš„ã€‚æ¯”å¦‚ä¸‹é¢è¿™æ¡æ˜¯3ä¸ª.\n\u0026lt;!-- æŸ¥è¯¢æ‰€ä»¥æ•°æ® å¤šä¸ªæ¡ä»¶ä½¿ç”¨ and åˆ†å‰² --\u0026gt; \u0026lt;select id=\u0026#34;selectAccounts\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; SELECT * FROM account WHERE id = 1 AND name = \u0026#39;xxx\u0026#39; AND AGE = 24; \u0026lt;/select\u0026gt; æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦çš„æ˜¯æ¨¡ç³ŠæŸ¥è¯¢, ç”¨æˆ·ç»™çš„æ¡ä»¶æ•°é‡æ˜¯ä¸å›ºå®šçš„ï¼Œæœ‰æ—¶ä¸€ä¸ªæœ‰æ—¶ä¸‰ä¸ªã€‚æˆ‘ä»¬éœ€è¦æ ¹æ®ä¼ æ¥çš„æ¡ä»¶å‚æ•°æ•°é‡æ¥åŠ¨æ€è°ƒæ•´æˆ‘ä»¬çš„SQLè¯­å¥ã€‚MyBatisæä¾›äº†è®¸å¤šæ ‡ç­¾æ¥æ”¯æŒæ­¤åŠŸèƒ½: if | choose(when, otherwise) | trim(where, set) | foreach\n\u0026lt;select id=\u0026#34;selectAccounts\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; SELECT * FROM account \u0026lt;!-- ä½¿ç”¨whereæ ‡ç­¾å¯ä»¥è§£å†³ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸å­˜åœ¨æ—¶çš„æŠ¥é”™, åŒæ—¶ä¼šå¸®æˆ‘ä»¬å»æ‰å¤šä½™çš„AND --\u0026gt; \u0026lt;!-- ä¸‹é¢ä¸ºä¾‹ å½“idå°äº0ï¼Œæ¡ä»¶ä¸ä¼šè¢«æ‹¼åˆ°sqlè¯­å¥é‡Œ,ä¸”ä¼šå¸®æˆ‘ä»¬å»æ‰nameå‰é¢çš„AND --\u0026gt; \u0026lt;where\u0026gt; \u0026lt;!-- teståé¢è·Ÿåˆ¤æ–­æ¡ä»¶ --\u0026gt; \u0026lt;if test=\u0026#34;id \u0026gt; 0\u0026#34;\u0026gt; AND id = #{id} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;name != null\u0026#34;\u0026gt; AND name LIKE #{name} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;age \u0026gt; 0\u0026#34;\u0026gt; AND age = #{age} \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; å•æ¡ä»¶åŠ¨æ€æŸ¥è¯¢ å½“æˆ‘ä»¬éœ€è¦å•æ¡ä»¶åŠ¨æ€æŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•\n\u0026lt;select id=\u0026#34;selectAccounts\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; SELECT * FROM account \u0026lt;where\u0026gt; \u0026lt;choose\u0026gt;\u0026lt;!-- ç±»ä¼¼switch --\u0026gt; \u0026lt;when test=\u0026#34;id \u0026gt; 0\u0026#34;\u0026gt;\u0026lt;!-- ç±»ä¼¼case --\u0026gt; id = #{id} \u0026lt;/when\u0026gt; \u0026lt;when test=\u0026#34;name != null and name != \u0026#39;\u0026#39;\u0026#34;\u0026gt; name like #{name} \u0026lt;/when\u0026gt; \u0026lt;when test=\u0026#34;age \u0026gt; 0\u0026#34;\u0026gt; age = #{age} \u0026lt;/when\u0026gt; \u0026lt;otherwise\u0026gt;1 = 1\u0026lt;/otherwise\u0026gt;\u0026lt;!-- ç±»ä¼¼default ä½¿ç”¨whereæ ‡ç­¾å¯ä»¥å»æ‰è¿™ä¸ª --\u0026gt; \u0026lt;/choose\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; #:D å‚æ•°å ä½ç¬¦ #{}: æ‰§è¡ŒSQLæ—¶, ä¼šå°†#{}å ä½ç¬¦æ›¿æ¢æˆ ? ä¼šè‡ªåŠ¨è®¾ç½®å‚æ•°, é˜²æ­¢sqlæ³¨å…¥\n${}: æ‹¼SQLè¯­å¥,ä¼šå‡ºç°sqlæ³¨å…¥é—®é¢˜.\nä¸€èˆ¬åœ¨ä¼ å‚æ•°æ—¶ä½¿ç”¨ #{} åœ¨å¯¹è¡¨åï¼Œåˆ—åè¿›è¡ŒåŠ¨æ€è®¾ç½®æ—¶ï¼Œä½¿ç”¨${} è¿›è¡Œæ‹¼æ¥.\nparameterType ç”¨äºè®¾ç½®ä¼ å…¥çš„å‚æ•°ç±»å‹, æ­¤å±æ€§å¯ä»¥çœç•¥\nresultType æ‰§è¡ŒSQLè¯­å¥åè¿”å›çš„æ•°æ®è¿›è¡Œå°è£…ï¼Œæ­¤å±æ€§æŒ‡å®šå°è£…åçš„ç±»å‹\nxmlä¸­ç‰¹æ®Šå­—ç¬¦å¤„ç† åœ¨xmlæ–‡ä»¶å†™SQLè¯­å¥æ—¶éš¾å…ä¼šå‡ºç° å¤§äºå°äºçš„åˆ¤æ–­ è€Œ \u0026lt; æ˜¯xmlæ ‡ç­¾èµ·å§‹ã€‚æ‰€ä»¥éœ€è¦è¿›è¡Œå¤„ç†ã€‚ä¸‹é¢ä¸ºä¾‹å­\n\u0026lt;select id=\u0026#34;selectAccount\u0026#34; parameterType=\u0026#34;int\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; SELECT * FROM account \u0026lt;!-- æ­¤å¤„çš„å°äºå· \u0026lt; ä¼šæŠ¥é”™, å› ä¸ºè¢«xmlåˆ¤å®šæˆäº†ä¸å®Œæˆçš„æ ‡ç­¾ --\u0026gt; WHERE id \u0026lt; 5; \u0026lt;/select\u0026gt; \u0026lt;!-- æ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯ CDATA æˆ–è€… è½¬ä¹‰å­—ç¬¦ --\u0026gt; \u0026lt;select id=\u0026#34;selectAccount\u0026#34; parameterType=\u0026#34;int\u0026#34; resultType=\u0026#34;com.eoezora.mybatisDemo.pojo.EoeAccount\u0026#34;\u0026gt; SELECT * FROM account WHERE id \u0026lt;!-- æŠŠä»–ä¹Ÿè¾“ç¬¦å·å†™åœ¨CDATA é‡Œå°±ä¸ä¼šæŠ¥é”™äº† --\u0026gt; \u0026lt;![CDATA[ \u0026lt; ]]\u0026gt; #{id}; \u0026lt;/select\u0026gt; ","permalink":"https://eoezora.github.io/posts/mybatis/mybatis-%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/","summary":"å¢åˆ æ”¹æŸ¥ä¾‹å­ AccountMapper.xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;!-- namespaceæ˜¯æ˜ å°„æ¥å£çš„è·¯å¾„ --\u0026gt; \u0026lt;mapper namespace=\u0026#34;com.eoezora.mybatisDemo.mapper.AccountMapper\u0026#34;\u0026gt; \u0026lt;!-- æ·»åŠ æ•°æ®, å‚æ•°POJO -\u0026gt; EoeAccount --\u0026gt; \u0026lt;!-- æ·»åŠ è¿™ä¸¤ä¸ª useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;id\u0026#34; å±æ€§åœ¨insertæ ‡ç­¾é‡Œå¯ä»¥è¿”å›ä¸»é”® --\u0026gt; \u0026lt;insert id=\u0026#34;addAccount\u0026#34; useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;id\u0026#34;/\u0026gt; \u0026lt;insert id=\u0026#34;addAccount\u0026#34; \u0026gt; INSERT INTO account (name, age, brithDay, location) \u0026lt;!-- è¿™é‡Œçš„åå­—è¦ä¸POJOç±»åŠ›çš„å˜é‡åä¸€è‡´ --\u0026gt; VALUES (#{name},#{age},#{brithDay},#{location}); \u0026lt;/insert\u0026gt; \u0026lt;!-- åˆ é™¤æ•°æ® --\u0026gt; \u0026lt;delete id=\u0026#34;delAccouintById\u0026#34;\u0026gt; DELETE FROM account WHERE id = #{id} \u0026lt;/delete\u0026gt; \u0026lt;!-- æŸ¥è¯¢æ‰€ä»¥æ•°æ® å¤šä¸ªæ¡ä»¶ä½¿ç”¨ and åˆ†å‰² --\u0026gt; \u0026lt;select id=\u0026#34;selectAccounts\u0026#34; resultType=\u0026#34;com.","title":"JavaWEBç¬”è®°-MyBatis-å¢åˆ æ”¹æŸ¥"},{"content":"ç®€ä»‹: ä¸€ä¸ªç”¨äºæ•°æ®æŒä¹…å±‚çš„æ¡†æ¶\nåŸºæœ¬é…ç½® //mybatisé…ç½®æ–‡ä»¶ String resource = \u0026#34;mybatis-config.xml\u0026#34;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); try (SqlSession session = sqlSessionFactory.openSession()) { //æ­¤å¤„æ˜¯ç›´æ¥è°ƒç”¨æ–¹æ³•è¿›è¡Œæ“ä½œï¼Œå»ºè®®ä½¿ç”¨ä»£ç†å¼€å‘ List\u0026lt;EoeAccount\u0026gt; datas = session.selectList(\u0026#34;test.selectAll\u0026#34;); datas.forEach(System.out::println); session.close(); } Mybatisé…ç½®æ–‡ä»¶(mybatis-config.xml)\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;environments default=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;environment id=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/eoezora?useSSL=false\u0026amp;amp;allowPublicKeyRetrieval=true\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;mappers\u0026gt; \u0026lt;mapper resource=\u0026#34;mappers/TestDemoMapper.xml\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; \u0026lt;/configuration\u0026gt; SQLè¯­å¥æ˜ å°„æ–‡ä»¶(TestDemoMapper.xml)\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;!-- ä»£ç†å¼€å‘ä¸­ namespaceçš„å€¼åº”è¯¥æ˜¯ Mapperæ¥å£çš„å…¨é™å®šå --\u0026gt; \u0026lt;!-- ä¾‹å¦‚ com.eoezora.mapper.TestDemoMapper --\u0026gt; \u0026lt;mapper namespace=\u0026#34;test\u0026#34;\u0026gt; \u0026lt;!-- resultType è¿”å›å€¼ --\u0026gt; \u0026lt;select id=\u0026#34;selectAll\u0026#34; resultType=\u0026#34;com.eoezora.pojo.EoeAccount\u0026#34;\u0026gt; SELECT * FROM account; \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; Mapperä»£ç†å¼€å‘ å®šä¹‰ä¸SQLæ˜ å°„æ–‡ä»¶åŒåçš„Mapperæ¥å£,å¹¶ä¸”å°†Mapperæ¥å£ä¸SQLæ˜ å°„æ–‡ä»¶æ”¾ç½®åœ¨åŒåæ–‡ä»¶ä¸‹\nè®¾ç½®SQLæ˜ å°„æ–‡ä»¶çš„namespaceå±æ€§ä¸Mapperæ¥å£å…¨é™å®šå\nåœ¨Mapperæ¥å£ä¸­å®šä¹‰æ–¹æ³•,æ–¹æ³•åæ˜¯SQLæ˜ å°„æ–‡ä»¶ä¸­çš„sqlè¯­å¥IDï¼Œå¹¶ä¿æŒå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ä¸€è‡´\ntry (SqlSession session = sqlSessionFactory.openSession()) { //è·å–Mapperæ¥å£ TestDemoMapper testDemoMapper = session.getMapper(TestDemoMapper.class); //ä½¿ç”¨æ¥å£è°ƒç”¨æ–¹æ³• testDemoMapper.selectAll().forEach(System.out::println); } ","permalink":"https://eoezora.github.io/posts/mybatis/mybatis/","summary":"ç®€ä»‹: ä¸€ä¸ªç”¨äºæ•°æ®æŒä¹…å±‚çš„æ¡†æ¶\nåŸºæœ¬é…ç½® //mybatisé…ç½®æ–‡ä»¶ String resource = \u0026#34;mybatis-config.xml\u0026#34;; InputStream inputStream = Resources.getResourceAsStream(resource); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream); try (SqlSession session = sqlSessionFactory.openSession()) { //æ­¤å¤„æ˜¯ç›´æ¥è°ƒç”¨æ–¹æ³•è¿›è¡Œæ“ä½œï¼Œå»ºè®®ä½¿ç”¨ä»£ç†å¼€å‘ List\u0026lt;EoeAccount\u0026gt; datas = session.selectList(\u0026#34;test.selectAll\u0026#34;); datas.forEach(System.out::println); session.close(); } Mybatisé…ç½®æ–‡ä»¶(mybatis-config.xml)\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;https://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;environments default=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;environment id=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;com.mysql.cj.jdbc.Driver\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;jdbc:mysql://localhost:3306/eoezora?useSSL=false\u0026amp;amp;allowPublicKeyRetrieval=true\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;root\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;mappers\u0026gt; \u0026lt;mapper resource=\u0026#34;mappers/TestDemoMapper.xml\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; \u0026lt;/configuration\u0026gt; SQLè¯­å¥æ˜ å°„æ–‡ä»¶(TestDemoMapper.","title":"JavaWEBç¬”è®°-MyBatiså¿«é€Ÿå…¥é—¨ç¬”è®°"},{"content":"ç®€ä»‹\n","permalink":"https://eoezora.github.io/posts/mybatis/mybatis-%E9%85%8D%E7%BD%AE/","summary":"ç®€ä»‹","title":"JavaWEBç¬”è®°-MyBatisé…ç½®æ–‡ä»¶"},{"content":"DriverManager //åˆ›å»ºä¸€ä¸ªé“¾æ¥ String url = \u0026#34;jdbc:mysql://localhost/database?useSSL=false\u0026amp;allowPublicKeyRetrieval=true\u0026#34;; String user = \u0026#34;\u0026#34;; String pwd = \u0026#34;\u0026#34;; Connection connection = DriverManager.getConnection(url,user,pwd); Connection ç”¨äºè·å–æ‰§è¡ŒSQLçš„å¯¹è±¡å’Œç®¡ç†äº‹åŠ¡\n//åˆ›å»ºé“¾æ¥ Connection connection = DriverManager.getConnection(url,user,pwd); //è¦æ‰§è¡Œçš„SQLè¯­å¥ String sql = \u0026#34;UPDATE users SET money = 1000 WHERE id = 114514;\u0026#34;; //åˆ›å»ºæ‰§è¡Œå¯¹è±¡ Statement statement = connection.createStatement(); try { //å¼€å¯äº‹åŠ¡ connection.setAutoCommit(false); //æ‰§è¡Œè¯­å¥ statement.executeUpdate(sql); //äº‹åŠ¡æäº¤ connection.commit(); } catch (Exception e) { //è‹¥æ‰§è¡Œå¤±è´¥åˆ™å›æ»šäº‹åŠ¡ connection.rollback(); throw new RuntimeException(e); } Statement ä½œç”¨ï¼šæ‰§è¡ŒSQLè¯­å¥\n//æ‰§è¡ŒDML DDL è¯­å¥ï¼Œ å¢åˆ æ”¹ï¼Œè¿”å›å—å½±å“çš„è¡Œæ•° int executeUpdate(String sql) //æ‰§è¡ŒDQLè¯­å¥ è¿”å›ResultSetç»“æœé›†å¯¹è±¡,æŸ¥è¯¢è¯­å¥ ResultSet executeQuery(String sql) ResultSet ä½œç”¨ï¼šä¸€ä¸ªç»“æœé›†å¯¹è±¡ï¼Œå°è£…äº†DQLæŸ¥è¯¢è¯­å¥çš„ç»“æœ\n//æ‰§è¡ŒDQLè¯­å¥è¿”å›ResultSetå¯¹è±¡ ResultSet rs = statement.executeQuery(sql); //å°†å…‰æ ‡ä»å½“å‰ä½ç½®å¾€å‰ç§»åŠ¨ä¸€è¡Œï¼Œåˆ¤æ–­å½“å‰æ˜¯å¦ä¸ºæœ‰æ•ˆè¡Œ boolean next(); //true æœ‰æ•ˆè¡Œï¼Œå½“å‰è¡Œæœ‰æ•°æ® | æ— æ•ˆè¡Œ å½“å‰è¡Œæ— æ•°æ® //è·å–æ•°æ® //æ•°æ®ç±»å‹ getæ•°æ®ç±»å‹(å‚æ•°); String getString(int index); //è·å–å­—æ®µå name çš„å€¼ ResultSet rs = statement.executeQuery(sql); while (rs.next()) { System.out.println(rs.getString(\u0026#34;name\u0026#34;)); } PreparedStatement ä½œç”¨ï¼šé¢„ç¼–è¯‘SQLè¯­å¥å¹¶æ‰§è¡Œï¼Œé¢„é˜²SQLæ³¨å…¥é—®é¢˜\nSQLæ³¨å…¥æ˜¯é€šè¿‡æ“ä½œè¾“å…¥æ¥ä¿®æ”¹äº‹å…ˆå®šä¹‰å·çš„SQLè¯­å¥ï¼Œç”¨ä»¥è¾¾åˆ°æ”»å‡»æœåŠ¡å™¨çš„ä½œç”¨\nConnection connection = DriverManager.getConnection(url,user,pwd); String sql = \u0026#34;SELECT * FROM goods WHERE id = ?\u0026#34;; //è·å–é¢„ç¼–è¯‘Sqlå¯¹è±¡ PreparedStatement ps = connection.prepareStatement(sql); //è®¾ç½® ï¼Ÿçš„å‚æ•°å€¼ //å‚æ•°ä½ç½® | å‚æ•°å€¼ ps.setInt(1,1); //æ‰§è¡Œè¯­å¥ ResultSet rs = ps.executeQuery(); rs.next(); System.out.println(rs.getString(\u0026#34;name\u0026#34;)); ","permalink":"https://eoezora.github.io/posts/jdbc-note/api%E8%AF%A6%E8%A7%A3/","summary":"DriverManager //åˆ›å»ºä¸€ä¸ªé“¾æ¥ String url = \u0026#34;jdbc:mysql://localhost/database?useSSL=false\u0026amp;allowPublicKeyRetrieval=true\u0026#34;; String user = \u0026#34;\u0026#34;; String pwd = \u0026#34;\u0026#34;; Connection connection = DriverManager.getConnection(url,user,pwd); Connection ç”¨äºè·å–æ‰§è¡ŒSQLçš„å¯¹è±¡å’Œç®¡ç†äº‹åŠ¡\n//åˆ›å»ºé“¾æ¥ Connection connection = DriverManager.getConnection(url,user,pwd); //è¦æ‰§è¡Œçš„SQLè¯­å¥ String sql = \u0026#34;UPDATE users SET money = 1000 WHERE id = 114514;\u0026#34;; //åˆ›å»ºæ‰§è¡Œå¯¹è±¡ Statement statement = connection.createStatement(); try { //å¼€å¯äº‹åŠ¡ connection.setAutoCommit(false); //æ‰§è¡Œè¯­å¥ statement.executeUpdate(sql); //äº‹åŠ¡æäº¤ connection.commit(); } catch (Exception e) { //è‹¥æ‰§è¡Œå¤±è´¥åˆ™å›æ»šäº‹åŠ¡ connection.rollback(); throw new RuntimeException(e); } Statement ä½œç”¨ï¼šæ‰§è¡ŒSQLè¯­å¥\n//æ‰§è¡ŒDML DDL è¯­å¥ï¼Œ å¢åˆ æ”¹ï¼Œè¿”å›å—å½±å“çš„è¡Œæ•° int executeUpdate(String sql) //æ‰§è¡ŒDQLè¯­å¥ è¿”å›ResultSetç»“æœé›†å¯¹è±¡,æŸ¥è¯¢è¯­å¥ ResultSet executeQuery(String sql) ResultSet ä½œç”¨ï¼šä¸€ä¸ªç»“æœé›†å¯¹è±¡ï¼Œå°è£…äº†DQLæŸ¥è¯¢è¯­å¥çš„ç»“æœ","title":"JavaWEBç¬”è®°-JDBC-APIè¯¦è§£"},{"content":"ç®€ä»‹: æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸ªå®¹å™¨, è´Ÿè´£åˆ†é…, ç®¡ç†æ•°æ®åº“é“¾æ¥, å…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ç°æœ‰çš„æ•°æ®åº“é“¾æ¥, è€Œä¸æ˜¯é‡æ–°å»ºç«‹ä¸€ä¸ªæ–°è¿æ¥\næ ‡å‡†æ¥å£: DataSource\nDruidé…ç½®æ–‡ä»¶ url=jdbc:mysql:///eoezora?useSSL=false\u0026amp;allowPublicKeyRetrieval=true username=root password=root #åˆå§‹åŒ–è¿æ¥æ•°é‡ initialSize=5 #æœ€å¤§è¿æ¥æ•° maxActive=10 #æœ€å¤§ç­‰å¾…æ—¶é—´ ms maxWait=3000 åŠ è½½é…ç½® //1.åŠ è½½é…ç½®æ–‡ä»¶ Properties pro = new Properties(); InputStream is = DruidDemo.class.getClassLoader().getResourceAsStream(\u0026#34;druid.properties\u0026#34;); pro.load(is); //2.è·å–è¿æ¥æ± å¯¹è±¡ DataSource ds = DruidDataSourceFactory.createDataSource(pro); //3.è·å–è¿æ¥ Connection conn = ds.getConnection(); å½’è¿˜è¿æ¥|é‡Šæ”¾èµ„æº public static void close(ResultSet rs, Statement stmt, Connection conn){ if (rs!=null) { try { rs.close(); } catch (Exception e) { System.out.println(e.getMessage()); } } if (stmt!=null) { try { stmt.close(); } catch (Exception e) { System.out.println(e.getMessage()); } } if (conn!=null){ try { conn.close();//å½’è¿˜è¿æ¥ } catch (Exception e) { System.out.println(e.getMessage()); } } } ","permalink":"https://eoezora.github.io/posts/jdbc-note/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/","summary":"ç®€ä»‹: æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸ªå®¹å™¨, è´Ÿè´£åˆ†é…, ç®¡ç†æ•°æ®åº“é“¾æ¥, å…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ç°æœ‰çš„æ•°æ®åº“é“¾æ¥, è€Œä¸æ˜¯é‡æ–°å»ºç«‹ä¸€ä¸ªæ–°è¿æ¥\næ ‡å‡†æ¥å£: DataSource\nDruidé…ç½®æ–‡ä»¶ url=jdbc:mysql:///eoezora?useSSL=false\u0026amp;allowPublicKeyRetrieval=true username=root password=root #åˆå§‹åŒ–è¿æ¥æ•°é‡ initialSize=5 #æœ€å¤§è¿æ¥æ•° maxActive=10 #æœ€å¤§ç­‰å¾…æ—¶é—´ ms maxWait=3000 åŠ è½½é…ç½® //1.åŠ è½½é…ç½®æ–‡ä»¶ Properties pro = new Properties(); InputStream is = DruidDemo.class.getClassLoader().getResourceAsStream(\u0026#34;druid.properties\u0026#34;); pro.load(is); //2.è·å–è¿æ¥æ± å¯¹è±¡ DataSource ds = DruidDataSourceFactory.createDataSource(pro); //3.è·å–è¿æ¥ Connection conn = ds.getConnection(); å½’è¿˜è¿æ¥|é‡Šæ”¾èµ„æº public static void close(ResultSet rs, Statement stmt, Connection conn){ if (rs!=null) { try { rs.close(); } catch (Exception e) { System.out.println(e.getMessage()); } } if (stmt!=null) { try { stmt.","title":"JavaWEBç¬”è®°-JDBC-è¿æ¥æ± "},{"content":"å¤šè¡¨æŸ¥è¯¢ è¿æ¥æŸ¥è¯¢ å†…è¿æ¥ è·å–ä¸¤è¡¨çš„äº¤é›†æ•°æ®\n-- éšå¼å†™æ³• SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1, è¡¨2... WHERE æ¡ä»¶; -- æ˜¾ç¤ºå†™æ³• SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 INNER JOIN è¡¨2 ON æ¡ä»¶ å¤–è¿æ¥ å·¦å¤–è¿æ¥: ç›¸å½“äºæŸ¥è¯¢Aè¡¨æ‰€æœ‰æ•°æ®å’Œäº¤é›†éƒ¨åˆ†çš„æ•°æ®\nå³å¤–è¿æ¥: ç›¸å½“äºæŸ¥è¯¢Bè¡¨æ‰€æœ‰æ•°æ®å’Œäº¤é›†éƒ¨åˆ†çš„æ•°æ®\n-- å·¦å¤–è¿æ¥ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 LEFT OUTER JOIN è¡¨2 ON æ¡ä»¶ -- å³å¤–è¿æ¥ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 RIGHT OUTER JOIN è¡¨2 ON æ¡ä»¶ å­æŸ¥è¯¢ æ¦‚å¿µï¼šæŸ¥è¯¢ä¸­åµŒå¥—æŸ¥è¯¢,æ ¹æ®æŸ¥è¯¢ç»“æœä¸åŒï¼Œä½œç”¨ä¸åŒåˆ†ä¸º å•è¡Œå•åˆ—ï¼Œå¤šè¡Œå•åˆ—ï¼Œå¤šè¡Œå¤šåˆ—\n-- å•è¡Œå•åˆ—: ä½œä¸ºæ¡ä»¶å€¼ ä½¿ç”¨ = != \u0026gt; \u0026lt; è¿›è¡Œæ¡ä»¶åˆ¤æ–­ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨ WHERE å­—æ®µå = (å­æŸ¥è¯¢è¯­å¥); -- å¤šè¡Œå•åˆ—: ä½œä¸ºæ¡ä»¶å€¼ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨ WHERE å­—æ®µå IN (å­æŸ¥è¯¢è¯­å¥); -- å¤šè¡Œå¤šåˆ—: ä½œä¸ºè™šæ‹Ÿè¡¨ SELECT å­—æ®µåˆ—è¡¨ FROM (å­æŸ¥è¯¢è¯­å¥) WHERE æ¡ä»¶; -- ä¾‹å­ æŸ¥è¯¢å·¥èµ„å¤§äº è”¡å¾å¤ çš„æ•°æ® SELECT name FROM users WHERE money \u0026gt; (SELECT money FROM infos WHERE name = \u0026#34;è”¡å¾å¤\u0026#34;); ","permalink":"https://eoezora.github.io/posts/mysql-note/%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/","summary":"å¤šè¡¨æŸ¥è¯¢ è¿æ¥æŸ¥è¯¢ å†…è¿æ¥ è·å–ä¸¤è¡¨çš„äº¤é›†æ•°æ®\n-- éšå¼å†™æ³• SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1, è¡¨2... WHERE æ¡ä»¶; -- æ˜¾ç¤ºå†™æ³• SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 INNER JOIN è¡¨2 ON æ¡ä»¶ å¤–è¿æ¥ å·¦å¤–è¿æ¥: ç›¸å½“äºæŸ¥è¯¢Aè¡¨æ‰€æœ‰æ•°æ®å’Œäº¤é›†éƒ¨åˆ†çš„æ•°æ®\nå³å¤–è¿æ¥: ç›¸å½“äºæŸ¥è¯¢Bè¡¨æ‰€æœ‰æ•°æ®å’Œäº¤é›†éƒ¨åˆ†çš„æ•°æ®\n-- å·¦å¤–è¿æ¥ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 LEFT OUTER JOIN è¡¨2 ON æ¡ä»¶ -- å³å¤–è¿æ¥ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨1 RIGHT OUTER JOIN è¡¨2 ON æ¡ä»¶ å­æŸ¥è¯¢ æ¦‚å¿µï¼šæŸ¥è¯¢ä¸­åµŒå¥—æŸ¥è¯¢,æ ¹æ®æŸ¥è¯¢ç»“æœä¸åŒï¼Œä½œç”¨ä¸åŒåˆ†ä¸º å•è¡Œå•åˆ—ï¼Œå¤šè¡Œå•åˆ—ï¼Œå¤šè¡Œå¤šåˆ—\n-- å•è¡Œå•åˆ—: ä½œä¸ºæ¡ä»¶å€¼ ä½¿ç”¨ = != \u0026gt; \u0026lt; è¿›è¡Œæ¡ä»¶åˆ¤æ–­ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨ WHERE å­—æ®µå = (å­æŸ¥è¯¢è¯­å¥); -- å¤šè¡Œå•åˆ—: ä½œä¸ºæ¡ä»¶å€¼ SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨ WHERE å­—æ®µå IN (å­æŸ¥è¯¢è¯­å¥); -- å¤šè¡Œå¤šåˆ—: ä½œä¸ºè™šæ‹Ÿè¡¨ SELECT å­—æ®µåˆ—è¡¨ FROM (å­æŸ¥è¯¢è¯­å¥) WHERE æ¡ä»¶; -- ä¾‹å­ æŸ¥è¯¢å·¥èµ„å¤§äº è”¡å¾å¤ çš„æ•°æ® SELECT name FROM users WHERE money \u0026gt; (SELECT money FROM infos WHERE name = \u0026#34;è”¡å¾å¤\u0026#34;); ","title":"Mysqlç¬”è®°-æ•°æ®åº“è®¾è®¡-å¤šè¡¨æŸ¥è¯¢"},{"content":"è¡¨ä¹‹é—´çš„å…³ç³» ä¸€å¯¹ä¸€ ä¾‹å¦‚ï¼Œç”¨æˆ·è¡¨å’Œç”¨æˆ·ä¿¡æ¯è¡¨(ä¸å¸¸ç”¨çš„ä¿¡æ¯)\nå®ç°æ–¹å¼: åœ¨ä»»æ„ä¸€æ–¹åŠ å…¥å¤–é”®ï¼Œå…³è”å¦ä¸€æ–¹ä¸»é”®ï¼Œå¹¶ä¸”è®¾ç½®å¤–é”®ä¸ºå”¯ä¸€(UNIQUE)\nä¸€å¯¹å¤š(å¤šå¯¹ä¸€) ä¾‹å¦‚ï¼šä¸€ä¸ªéƒ¨é—¨æœ‰å¤šä¸ªå‘˜å·¥ï¼Œå¤šä¸ªå‘˜å·¥å±äºä¸€ä¸ªéƒ¨é—¨\nå®ç°æ–¹å¼ï¼šåœ¨å¤šçš„ä¸€æ–¹æ·»åŠ ä¸€ä¸ªå¤–é”®ï¼ŒæŒ‡å‘ä¸€çš„ä¸»é”®,ä¾‹å¦‚ åœ¨å‘˜å·¥è¡¨é‡Œæ·»åŠ ä¸€ä¸ªéƒ¨é—¨IDå¤–é”®ï¼ŒæŒ‡å‘éƒ¨é—¨è¡¨çš„ä¸»é”®\nå¤šå¯¹å¤š ä¾‹å¦‚ï¼šå•†å“å’Œè®¢å•ï¼Œä¸€ä¸ªè®¢å•å¤šä¸ªå•†å“ï¼Œä¸€ä¸ªå•†å“å¤šä¸ªè®¢å•\nå®ç°æ–¹å¼ï¼šå»ºç«‹ç¬¬ä¸‰å¼ ä¸­é—´è¡¨ï¼Œä¸­é—´è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªå¤–é”®ï¼Œåˆ†åˆ«å…³è”ä¸¤æ–¹ä¸»é”®\nè®¢å•è¡¨\nid æ”¯ä»˜é‡‘é¢ æ”¯ä»˜æ–¹å¼ çŠ¶æ€ 1 114514.0 WeChatPay æœªæ”¯ä»˜ 2 19198.0 AliPay å·²æ”¯ä»˜ å•†å“è¡¨\nid å•†å“å ä»·æ ¼ 1 æ—æª 114514 2 è¿å®¾é…’ 1919810 ä¸­é—´è¡¨\nid è®¢å•id(å¤–é”®) å•†å“id(å¤–é”®) 1 1 1 2 1 2 3 2 1 æ³¨è§£ï¼šä»¥ä¸Šæ–¹ä¸‰è¡¨ä¸ºä¾‹ï¼Œä¸­é—´è¡¨è®°å½•è®¢å•ä¸å•†å“çš„å¤–é”®ã€‚ä¸¤ä¸ªè®¢å•idä¸º1çš„æ•°æ®ä»£è¡¨ç€è¿™ä¸ªè®¢å•æœ‰ä¸¤ä»¶å•†å“\n-- è®¢å•ä¸å•†å“å…³è”ä¾‹å­ create table if not exists orders ( id int auto_increment primary key, payment int not null, paytype varchar(20) not null, status varchar(20) not null ); create table if not exists goods ( id int auto_increment primary key, name varchar(60) not null, price int not null ); create table if not exists tk_orders_goods ( id int auto_increment primary key, order_id int not null, good_id int not null ); -- æ·»åŠ å¤–é”® alter table tk_orders_goods add constraint fk_order_id FOREIGN KEY(order_id) REFERENCES orders(id); -- æ·»åŠ å¤–é”® alter table tk_orders_goods add constraint fk_good_id FOREIGN KEY(good_id) REFERENCES goods(id); ","permalink":"https://eoezora.github.io/posts/mysql-note/%E8%A1%A8%E4%B9%8B%E9%97%B4%E5%85%B3%E7%B3%BB/","summary":"è¡¨ä¹‹é—´çš„å…³ç³» ä¸€å¯¹ä¸€ ä¾‹å¦‚ï¼Œç”¨æˆ·è¡¨å’Œç”¨æˆ·ä¿¡æ¯è¡¨(ä¸å¸¸ç”¨çš„ä¿¡æ¯)\nå®ç°æ–¹å¼: åœ¨ä»»æ„ä¸€æ–¹åŠ å…¥å¤–é”®ï¼Œå…³è”å¦ä¸€æ–¹ä¸»é”®ï¼Œå¹¶ä¸”è®¾ç½®å¤–é”®ä¸ºå”¯ä¸€(UNIQUE)\nä¸€å¯¹å¤š(å¤šå¯¹ä¸€) ä¾‹å¦‚ï¼šä¸€ä¸ªéƒ¨é—¨æœ‰å¤šä¸ªå‘˜å·¥ï¼Œå¤šä¸ªå‘˜å·¥å±äºä¸€ä¸ªéƒ¨é—¨\nå®ç°æ–¹å¼ï¼šåœ¨å¤šçš„ä¸€æ–¹æ·»åŠ ä¸€ä¸ªå¤–é”®ï¼ŒæŒ‡å‘ä¸€çš„ä¸»é”®,ä¾‹å¦‚ åœ¨å‘˜å·¥è¡¨é‡Œæ·»åŠ ä¸€ä¸ªéƒ¨é—¨IDå¤–é”®ï¼ŒæŒ‡å‘éƒ¨é—¨è¡¨çš„ä¸»é”®\nå¤šå¯¹å¤š ä¾‹å¦‚ï¼šå•†å“å’Œè®¢å•ï¼Œä¸€ä¸ªè®¢å•å¤šä¸ªå•†å“ï¼Œä¸€ä¸ªå•†å“å¤šä¸ªè®¢å•\nå®ç°æ–¹å¼ï¼šå»ºç«‹ç¬¬ä¸‰å¼ ä¸­é—´è¡¨ï¼Œä¸­é—´è¡¨è‡³å°‘åŒ…å«ä¸¤ä¸ªå¤–é”®ï¼Œåˆ†åˆ«å…³è”ä¸¤æ–¹ä¸»é”®\nè®¢å•è¡¨\nid æ”¯ä»˜é‡‘é¢ æ”¯ä»˜æ–¹å¼ çŠ¶æ€ 1 114514.0 WeChatPay æœªæ”¯ä»˜ 2 19198.0 AliPay å·²æ”¯ä»˜ å•†å“è¡¨\nid å•†å“å ä»·æ ¼ 1 æ—æª 114514 2 è¿å®¾é…’ 1919810 ä¸­é—´è¡¨\nid è®¢å•id(å¤–é”®) å•†å“id(å¤–é”®) 1 1 1 2 1 2 3 2 1 æ³¨è§£ï¼šä»¥ä¸Šæ–¹ä¸‰è¡¨ä¸ºä¾‹ï¼Œä¸­é—´è¡¨è®°å½•è®¢å•ä¸å•†å“çš„å¤–é”®ã€‚ä¸¤ä¸ªè®¢å•idä¸º1çš„æ•°æ®ä»£è¡¨ç€è¿™ä¸ªè®¢å•æœ‰ä¸¤ä»¶å•†å“\n-- è®¢å•ä¸å•†å“å…³è”ä¾‹å­ create table if not exists orders ( id int auto_increment primary key, payment int not null, paytype varchar(20) not null, status varchar(20) not null ); create table if not exists goods ( id int auto_increment primary key, name varchar(60) not null, price int not null ); create table if not exists tk_orders_goods ( id int auto_increment primary key, order_id int not null, good_id int not null ); -- æ·»åŠ å¤–é”® alter table tk_orders_goods add constraint fk_order_id FOREIGN KEY(order_id) REFERENCES orders(id); -- æ·»åŠ å¤–é”® alter table tk_orders_goods add constraint fk_good_id FOREIGN KEY(good_id) REFERENCES goods(id); ","title":"Mysqlç¬”è®°-æ•°æ®åº“è®¾è®¡-è¡¨ä¹‹é—´çš„å…³ç³»"},{"content":"äº‹åŠ¡æ¦‚å¿µ æ•°æ®åº“çš„äº‹åŠ¡æ˜¯ä¸€ç§æœºåˆ¶ï¼Œä¸€ä¸ªæ“ä½œåºåˆ—ï¼ŒåŒ…å«ä¸€ç»„æ•°æ®åº“æ“ä½œå‘½ä»¤ äº‹åŠ¡æŠŠæ‰€æœ‰å‘½ä»¤ä½œä¸ºä¸€ä¸ªæ•´ä½“å‘ç³»ç»Ÿæäº¤æˆ–æ’¤é”€ã€‚è¿™ç»„å‘½ä»¤è¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ -- å®šä¹‰äº‹åŠ¡å¼€å¯ -- äº‹åŠ¡å¼€å¯åæ‰€ä½œçš„æ“ä½œä¸ºä¸´æ—¶æ€§çš„ BEGIN; -- ä¹Ÿå¯ä»¥ä½¿ç”¨ START TRANSACTION; UPDATE account SET money = money + 1000 WHERE name = \u0026#39;è”¡å¾å¤\u0026#39;; å‡è®¾è¿™è¡Œè¯­å¥é”™è¯¯ UPDATE account SET money = money - 8000 WHERE name = \u0026#39;å­™ç¬‘å·\u0026#39;; -- æäº¤äº‹åŠ¡ COMMIT; -- å›æ»šæ“ä½œ ROLLBACK; äº‹åŠ¡å››å¤§ç‰¹æ€§ åŸå­æ€§ï¼šäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•ä½ï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ï¼›\nä¸€è‡´æ€§ï¼šäº‹åŠ¡å®Œæˆåï¼Œå¿…é¡»æ˜¯æ‰€æœ‰æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€\néš”ç¦»æ€§ï¼šå¤šä¸ªäº‹åŠ¡ä¹‹é—´ï¼Œæ“ä½œçš„å¯è§æ€§ã€‚æ¯ä¸ªäº‹åŠ¡ä¹‹é—´æ“ä½œéš”ç¦»\næŒä¹…æ€§ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤æˆ–è€…å›æ»šï¼Œä»–å¯¹æ•°æ®åº“çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…çš„\n-- æŸ¥çœ‹äº‹åŠ¡é»˜è®¤æäº¤æ–¹å¼ SELECT @@autocommit; -- ä¿®æ”¹é»˜è®¤æäº¤æ–¹å¼ - 1 è‡ªåŠ¨æäº¤ - 0 æ‰‹åŠ¨æäº¤ set @@autocommit = 0; ","permalink":"https://eoezora.github.io/posts/mysql-note/%E4%BA%8B%E5%8A%A1/","summary":"äº‹åŠ¡æ¦‚å¿µ æ•°æ®åº“çš„äº‹åŠ¡æ˜¯ä¸€ç§æœºåˆ¶ï¼Œä¸€ä¸ªæ“ä½œåºåˆ—ï¼ŒåŒ…å«ä¸€ç»„æ•°æ®åº“æ“ä½œå‘½ä»¤ äº‹åŠ¡æŠŠæ‰€æœ‰å‘½ä»¤ä½œä¸ºä¸€ä¸ªæ•´ä½“å‘ç³»ç»Ÿæäº¤æˆ–æ’¤é”€ã€‚è¿™ç»„å‘½ä»¤è¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ -- å®šä¹‰äº‹åŠ¡å¼€å¯ -- äº‹åŠ¡å¼€å¯åæ‰€ä½œçš„æ“ä½œä¸ºä¸´æ—¶æ€§çš„ BEGIN; -- ä¹Ÿå¯ä»¥ä½¿ç”¨ START TRANSACTION; UPDATE account SET money = money + 1000 WHERE name = \u0026#39;è”¡å¾å¤\u0026#39;; å‡è®¾è¿™è¡Œè¯­å¥é”™è¯¯ UPDATE account SET money = money - 8000 WHERE name = \u0026#39;å­™ç¬‘å·\u0026#39;; -- æäº¤äº‹åŠ¡ COMMIT; -- å›æ»šæ“ä½œ ROLLBACK; äº‹åŠ¡å››å¤§ç‰¹æ€§ åŸå­æ€§ï¼šäº‹åŠ¡æ˜¯ä¸å¯åˆ†å‰²çš„æœ€å°æ“ä½œå•ä½ï¼Œè¦ä¹ˆåŒæ—¶æˆåŠŸï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ï¼›\nä¸€è‡´æ€§ï¼šäº‹åŠ¡å®Œæˆåï¼Œå¿…é¡»æ˜¯æ‰€æœ‰æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€\néš”ç¦»æ€§ï¼šå¤šä¸ªäº‹åŠ¡ä¹‹é—´ï¼Œæ“ä½œçš„å¯è§æ€§ã€‚æ¯ä¸ªäº‹åŠ¡ä¹‹é—´æ“ä½œéš”ç¦»\næŒä¹…æ€§ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤æˆ–è€…å›æ»šï¼Œä»–å¯¹æ•°æ®åº“çš„æ”¹å˜å°±æ˜¯æ°¸ä¹…çš„\n-- æŸ¥çœ‹äº‹åŠ¡é»˜è®¤æäº¤æ–¹å¼ SELECT @@autocommit; -- ä¿®æ”¹é»˜è®¤æäº¤æ–¹å¼ - 1 è‡ªåŠ¨æäº¤ - 0 æ‰‹åŠ¨æäº¤ set @@autocommit = 0; ","title":"Mysqlç¬”è®°-äº‹åŠ¡"},{"content":"çº¦æŸæ¦‚å¿µ çº¦æŸæ˜¯ä½œç”¨äºè¡¨ä¸­åˆ—çš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶åŠ å…¥è¡¨çš„æ•°æ® çº¦æŸçš„å­˜åœ¨ä¿è¯æ•°æ®åº“æ•°æ®çš„æ­£ç¡®æ€§ï¼Œæœ‰é™æ€§å’Œå®Œæ•´æ€§ çº¦æŸçš„åˆ†ç±» çº¦æŸåç§° åŠŸèƒ½æè¿° å…³é”®å­— éç©ºçº¦æŸ ä¿è¯åˆ—ä¸­æ•°æ®ä¸å‡ºç°null NOT NULL å”¯ä¸€çº¦æŸ ä¿è¯åˆ—ä¸­æ•°æ®å„ä¸ç›¸åŒï¼Œå”¯ä¸€æ€§ UNIQUE ä¸»é”®çº¦æŸ ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œè¦æ±‚éç©ºä¸”å”¯ä¸€ PRIMARY KEY é»˜è®¤çº¦æŸ ä¿å­˜æ•°æ®æ—¶,æœªæŒ‡å®šå°±é‡‡ç”¨é»˜è®¤å€¼ DEFAULT å¤–é”®çº¦æŸ å¤–é”®è®©ä¸¤ä¸ªè¡¨çš„æ•°æ®ä¹‹é—´å»ºç«‹è¿æ¥ï¼Œä¿è¯æ•°æ®ä¸€è‡´ä¸”å®Œæ•´ FOREIGN KEY ä¾‹å­ -- å»ºè¡¨æ—¶å¯¹å­—æ®µè¿›è¡Œçº¦æŸ CREATE TABLE emp( id INT PRIMARY KEY, -- å”¯ä¸€ä¸»é”® ename VARCHAR(60) NOT NULL UNIQUE, -- éç©ºä¸”å”¯ä¸€ joindate DATE NOT NULL, -- éç©º salary DOUBLE(7,2) NOT NULL, -- éç©º bonus DOUBLE(7,2) DEFAULT 0, -- é»˜è®¤ä¸º0 -- éƒ¨é—¨id dept_id INT NOT NULL, -- æ·»åŠ å¤–é”®dept_idå¹¶å…³è”deptè¡¨çš„idä¸»é”® CONSTRAINF fk_emp_dept FOREIGN KEY(dept_id) REFERENCES dept(id) ); å¤–é”®çº¦æŸ å‘˜å·¥è¡¨(emp)\nid name age dep_id 1 å¼ ä¸‰ 22 1 2 æå›› 23 1 3 ç‹äº” 24 2 4 èµµå…­ 25 2 éƒ¨é—¨è¡¨(dept)\nid dep_name addr 1 ç ”å‘éƒ¨ ç ”å‘éƒ¨åœ°å€ 2 äº§å“éƒ¨ äº§å“éƒ¨åœ°å€ ","permalink":"https://eoezora.github.io/posts/mysql-note/%E7%BA%A6%E6%9D%9F/","summary":"çº¦æŸæ¦‚å¿µ çº¦æŸæ˜¯ä½œç”¨äºè¡¨ä¸­åˆ—çš„è§„åˆ™ï¼Œç”¨äºé™åˆ¶åŠ å…¥è¡¨çš„æ•°æ® çº¦æŸçš„å­˜åœ¨ä¿è¯æ•°æ®åº“æ•°æ®çš„æ­£ç¡®æ€§ï¼Œæœ‰é™æ€§å’Œå®Œæ•´æ€§ çº¦æŸçš„åˆ†ç±» çº¦æŸåç§° åŠŸèƒ½æè¿° å…³é”®å­— éç©ºçº¦æŸ ä¿è¯åˆ—ä¸­æ•°æ®ä¸å‡ºç°null NOT NULL å”¯ä¸€çº¦æŸ ä¿è¯åˆ—ä¸­æ•°æ®å„ä¸ç›¸åŒï¼Œå”¯ä¸€æ€§ UNIQUE ä¸»é”®çº¦æŸ ä¸»é”®æ˜¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ï¼Œè¦æ±‚éç©ºä¸”å”¯ä¸€ PRIMARY KEY é»˜è®¤çº¦æŸ ä¿å­˜æ•°æ®æ—¶,æœªæŒ‡å®šå°±é‡‡ç”¨é»˜è®¤å€¼ DEFAULT å¤–é”®çº¦æŸ å¤–é”®è®©ä¸¤ä¸ªè¡¨çš„æ•°æ®ä¹‹é—´å»ºç«‹è¿æ¥ï¼Œä¿è¯æ•°æ®ä¸€è‡´ä¸”å®Œæ•´ FOREIGN KEY ä¾‹å­ -- å»ºè¡¨æ—¶å¯¹å­—æ®µè¿›è¡Œçº¦æŸ CREATE TABLE emp( id INT PRIMARY KEY, -- å”¯ä¸€ä¸»é”® ename VARCHAR(60) NOT NULL UNIQUE, -- éç©ºä¸”å”¯ä¸€ joindate DATE NOT NULL, -- éç©º salary DOUBLE(7,2) NOT NULL, -- éç©º bonus DOUBLE(7,2) DEFAULT 0, -- é»˜è®¤ä¸º0 -- éƒ¨é—¨id dept_id INT NOT NULL, -- æ·»åŠ å¤–é”®dept_idå¹¶å…³è”deptè¡¨çš„idä¸»é”® CONSTRAINF fk_emp_dept FOREIGN KEY(dept_id) REFERENCES dept(id) ); å¤–é”®çº¦æŸ å‘˜å·¥è¡¨(emp)","title":"Mysqlç¬”è®°-çº¦æŸ"},{"content":"SELECT -- å­—æ®µåˆ—è¡¨ FROM -- è¡¨ååˆ—è¡¨ WHERE -- æ¡ä»¶åˆ—è¡¨ GROUP BY -- åˆ†ç»„åˆ—è¡¨ HAVING -- åˆ†ç»„åæ¡ä»¶ ORDER BY -- æ’åºå­—æ®µ LIMIT -- é™åˆ¶æŸ¥è¯¢è¿”å›æ•°æ®çš„æ•°é‡ï¼Œç”¨äºåˆ†é¡µé™åˆ¶ æ¡ä»¶æŸ¥è¯¢ -- æŸ¥è¯¢è¡¨é‡Œè®¸æ‰€æœ‰æ•°æ®,ä¸å»ºè®®ä½¿ç”¨ SELECT * FROM users; -- æŸ¥è¯¢åå­— -- DISTINCT å»é™¤é‡å¤ SELECT DISTINCT name FROM users; -- æŸ¥è¯¢åå­—ï¼Œæ€§åˆ«ï¼Œå¹´é¾„ -- å¯ä»¥ä½¿ç”¨ sex as æ€§åˆ« çš„æ–¹å¼å¯¹åˆ—èµ·åˆ«å,ä¹Ÿå¯ä»¥å†™æˆ sex æ€§åˆ« çœç•¥as ä½†å­—æ®µåè·Ÿåˆ«åä¹‹é—´è¦æœ‰ç©ºæ ¼éš”å¼€ SELECT name, sex as æ€§åˆ«, age as å¹´é¾„ FROM users; -- æ¡ä»¶æŸ¥è¯¢ç¬¦å·, NULLå€¼æ¯”è¾ƒä½¿ç”¨ IS NOT NULL è·Ÿ IS NULL SELECT name FROM users WHERE age \u0026gt; 17; -- æŸ¥è¯¢ageæ•°å€¼å¤§äº17çš„æ•°æ® SELECT name FROM users WHERE age \u0026gt;= 7 AND age \u0026lt;= 50; -- æŸ¥è¯¢ageæ•°å€¼åœ¨7è·Ÿ50ä¹‹é—´çš„æ•°å€¼(å†™æ³•ä¸€) SELECT name FROM users WHERE age BETWEEN 7 AND 50; -- æŸ¥è¯¢ageæ•°å€¼åœ¨7è·Ÿ50ä¹‹é—´çš„æ•°å€¼(å†™æ³•äºŒ) -- æŸ¥è¯¢brith_dayæ•°å€¼åœ¨\u0026#39;2000-01-01\u0026#39;è·Ÿ\u0026#39;2000-04-01\u0026#39;ä¹‹é—´çš„æ•°å€¼(å†™æ³•äºŒ) SELECT name FROM users WHERE brith_day BETWEEN \u0026#39;2000-01-01\u0026#39; AND \u0026#39;2000-04-01\u0026#39;; SELECT name FROM users WHERE age = 17; -- æŸ¥è¯¢ageæ•°å€¼ç­‰äº17çš„æ•°æ® SELECT name FROM users WHERE age != 17; -- æŸ¥è¯¢ageæ•°å€¼ä¸ç­‰äº17çš„æ•°æ®(å†™æ³•ä¸€) SELECT name FROM users WHERE age \u0026lt;\u0026gt; 17; -- æŸ¥è¯¢ageæ•°å€¼ä¸ç­‰äº17çš„æ•°æ®(å†™æ³•äºŒ) SELECT name FROM users WHERE age = 17 OR age = 18 OR age = 22;-- æŸ¥è¯¢ageæ•°å€¼ç­‰äº17æˆ–18æˆ–22çš„æ•°æ®(å†™æ³•ä¸€) SELECT name FROM users WHERE age IN (17ï¼Œ18ï¼Œ22); -- æŸ¥è¯¢ageæ•°å€¼ç­‰äº17æˆ–18æˆ–22çš„æ•°æ®(å†™æ³•äºŒ) SELECT name FROM users WHERE age IS NULL; -- æŸ¥è¯¢ageæ•°å€¼ä¸ºnullçš„æ•°æ® SELECT name FROM users WHERE age IS NOT NULL; -- æŸ¥è¯¢ageæ•°å€¼ä¸ä¸ºnullçš„æ•°æ® SELECT name FROM users WHERE age IS NULL -- æŸ¥è¯¢ageæ•°å€¼ä¸ºnullçš„æ•°æ® /* é€šé…ç¬¦ _ ä¸‹åˆ’çº¿ä»£è¡¨å•ä¸ªå­—ç¬¦ % ç™¾åˆ†å·ä»£è¡¨ä»»æ„ä¸ªæ•°å­—ç¬¦ */ -- æŸ¥è¯¢å§“ä¸º è”¡ çš„åå­—ä¿¡æ¯ SELECT name FROM users WHERE name like \u0026#39;è”¡%\u0026#39;; -- æŸ¥è¯¢åå­— ç¬¬äºŒä¸ªå­—æ˜¯ å¾ çš„åå­—ä¿¡æ¯ SELECT name FROM users WHERE name like \u0026#39;_å¾%\u0026#39;; -- æŸ¥è¯¢åå­—ä¸­åŒ…å«å¤çš„åå­—ä¿¡æ¯ SELECT name FROM users WHERE name like \u0026#39;%å¤%\u0026#39;; æ’åºæŸ¥è¯¢ -- æ’åºæŸ¥è¯¢è¯­æ³• SELECT å­—æ®µåˆ—è¡¨ FROM è¡¨å ORDER BY æ’åºå­—æ®µå1 [æ’åºæ–¹å¼1]ï¼Œæ’åºå­—æ®µå2 [æ’åºæ–¹å¼2]...; -- æ’åºæ–¹å¼ -- ASC å‡åºæ’åˆ—[é»˜è®¤] -- DESC é™åºæ’åˆ— -- å‡åºæ’åºä¾‹å­ SELECT name FROM users ORDER BY age ASC; -- é™åºæ’åºä¾‹å­ SELECT name FROM users ORDER BY age DESC; -- å¤šå­—æ®µé™åºæ’åºä¾‹å­ -- å¦‚æœå¹´é¾„ä¸€æ ·ï¼Œåˆ™æŒ‰å·¥èµ„å‡åºæ’åº SELECT name FROM users ORDER BY age DESC, money ASC; åˆ†ç»„æŸ¥è¯¢ -- èšåˆå‡½æ•°æŸ¥è¯¢ count(åˆ—å) -- ç»Ÿè®¡æ•°é‡ max(åˆ—å) -- æœ€å¤§å€¼ min(åˆ—å) -- æœ€å°å€¼ sum(åˆ—å) -- æ±‚å’Œ avg(åˆ—å) -- æ±‚å¹³å‡å€¼ -- èšåˆå‡½æ•°æŸ¥è¯¢è¯­æ³• SELECT èšåˆå‡½æ•°(åˆ—å)... FROM users; SELECT COUNT(name) FROM users; -- ç»Ÿè®¡nameæœ‰å‡ ä¸ªï¼Œä¸èƒ½ä¸ºç©ºï¼Œä¸ä¼šç»Ÿè®¡nullå€¼ SELECT MAX(age) FROM usersï¼› -- æ±‚å¹´é¾„æœ€å¤§çš„ SELECT MIN(age) FROM usersï¼› -- æ±‚å¹´é¾„æœ€å°çš„ SELECT SUM(money) FROM usersï¼› -- æ±‚ä¸€æ•´åˆ—çš„ money å’Œ SELECT AVG(money) FROM usersï¼› -- æ±‚ä¸€æ•´åˆ—çš„ money çš„å¹³å‡å€¼ -- åˆ†ç»„æŸ¥è¯¢ -- æ ¹æ®æ€§åˆ«åˆ†ç»„æŸ¥è¯¢å¹³å‡å·¥èµ„ SELECT sex, avg(money) FROM users GROUP BY sex; -- æ ¹æ®æ€§åˆ«åˆ†ç»„æŸ¥è¯¢å¹³å‡å·¥èµ„ï¼Œåªè®¡ç®—å·¥èµ„é«˜äº5000çš„æ•°æ® SELECT sex, avg(money) FROM users WHERE money \u0026gt; 5000 GROUP BY sex; -- æ ¹æ®æ€§åˆ«åˆ†ç»„æŸ¥è¯¢å¹³å‡å·¥èµ„ï¼Œåªè®¡ç®—å·¥èµ„é«˜äº5000çš„æ•°æ®, ä¸”æ•°æ®å¤§äº2æ¡ SELECT sex, avg(money) FROM users WHERE money \u0026gt; 5000 GROUP BY sex HAVING COUNT(*) \u0026gt; 2; åˆ†é¡µæŸ¥è¯¢ -- è¯­æ³• SELECT name SELECT name FROM users LIMIT èµ·å§‹ç´¢å¼•ï¼ŒæŸ¥è¯¢æ•°ç›®é‡; -- ä»0å¼€å§‹æŸ¥ï¼ŒæŸ¥è¯¢3æ¡æ•°æ® SELECT name FROM users LIMIT 0ï¼Œ3; -- åˆ†é¡µæŸ¥è¯¢ SELECT name FROM users LIMIT (å½“å‰é¡µé¢ -1) * æ¯é¡µæ˜¾ç¤ºæ¡ç›®æ•°ï¼Œæ¯é¡µæ˜¾ç¤ºæ¡ç›®æ•°; ","permalink":"https://eoezora.github.io/posts/mysql-note/%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2/","summary":"SELECT -- å­—æ®µåˆ—è¡¨ FROM -- è¡¨ååˆ—è¡¨ WHERE -- æ¡ä»¶åˆ—è¡¨ GROUP BY -- åˆ†ç»„åˆ—è¡¨ HAVING -- åˆ†ç»„åæ¡ä»¶ ORDER BY -- æ’åºå­—æ®µ LIMIT -- é™åˆ¶æŸ¥è¯¢è¿”å›æ•°æ®çš„æ•°é‡ï¼Œç”¨äºåˆ†é¡µé™åˆ¶ æ¡ä»¶æŸ¥è¯¢ -- æŸ¥è¯¢è¡¨é‡Œè®¸æ‰€æœ‰æ•°æ®,ä¸å»ºè®®ä½¿ç”¨ SELECT * FROM users; -- æŸ¥è¯¢åå­— -- DISTINCT å»é™¤é‡å¤ SELECT DISTINCT name FROM users; -- æŸ¥è¯¢åå­—ï¼Œæ€§åˆ«ï¼Œå¹´é¾„ -- å¯ä»¥ä½¿ç”¨ sex as æ€§åˆ« çš„æ–¹å¼å¯¹åˆ—èµ·åˆ«å,ä¹Ÿå¯ä»¥å†™æˆ sex æ€§åˆ« çœç•¥as ä½†å­—æ®µåè·Ÿåˆ«åä¹‹é—´è¦æœ‰ç©ºæ ¼éš”å¼€ SELECT name, sex as æ€§åˆ«, age as å¹´é¾„ FROM users; -- æ¡ä»¶æŸ¥è¯¢ç¬¦å·, NULLå€¼æ¯”è¾ƒä½¿ç”¨ IS NOT NULL è·Ÿ IS NULL SELECT name FROM users WHERE age \u0026gt; 17; -- æŸ¥è¯¢ageæ•°å€¼å¤§äº17çš„æ•°æ® SELECT name FROM users WHERE age \u0026gt;= 7 AND age \u0026lt;= 50; -- æŸ¥è¯¢ageæ•°å€¼åœ¨7è·Ÿ50ä¹‹é—´çš„æ•°å€¼(å†™æ³•ä¸€) SELECT name FROM users WHERE age BETWEEN 7 AND 50; -- æŸ¥è¯¢ageæ•°å€¼åœ¨7è·Ÿ50ä¹‹é—´çš„æ•°å€¼(å†™æ³•äºŒ) -- æŸ¥è¯¢brith_dayæ•°å€¼åœ¨\u0026#39;2000-01-01\u0026#39;è·Ÿ\u0026#39;2000-04-01\u0026#39;ä¹‹é—´çš„æ•°å€¼(å†™æ³•äºŒ) SELECT name FROM users WHERE brith_day BETWEEN \u0026#39;2000-01-01\u0026#39; AND \u0026#39;2000-04-01\u0026#39;; SELECT name FROM users WHERE age = 17; -- æŸ¥è¯¢ageæ•°å€¼ç­‰äº17çš„æ•°æ® SELECT name FROM users WHERE age !","title":"Mysqlç¬”è®°-å•è¡¨æŸ¥è¯¢"},{"content":"24å²æ˜¯å­¦ç”Ÿï¼Œæ­£åœ¨è‡ªå­¦ç¼–ç¨‹ä¸­ï¼Œæœ¬ç«™è®°å½•å­¦ä¹ è¿‡ç¨‹ä¸­çš„ä¸€äº›ç¬”è®°\n","permalink":"https://eoezora.github.io/about/","summary":"24å²æ˜¯å­¦ç”Ÿï¼Œæ­£åœ¨è‡ªå­¦ç¼–ç¨‹ä¸­ï¼Œæœ¬ç«™è®°å½•å­¦ä¹ è¿‡ç¨‹ä¸­çš„ä¸€äº›ç¬”è®°","title":"ğŸ™‹ğŸ»â€â™‚ï¸å…³äº"}]